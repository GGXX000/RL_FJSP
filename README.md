# 作业车间调度优化算法比较研究

## 项目概述

本项目实现并比较了三种不同的优化算法在作业车间调度问题上的性能表现：

- **强化学习算法 (RL)**: 基于图神经网络(GNN)和深度Q网络(DQN)的强化学习方法
- **遗传算法 (GA)**: 经典的进化计算方法，通过模拟自然选择过程优化调度方案
- **鱼鹰优化算法 (NOOA)**: 一种受鱼鹰捕食行为启发的元启发式算法

项目针对具有工具更换约束和机器槽位限制的作业车间调度问题，旨在最小化完工时间(makespan)和工具更换次数。

## 算法实现

### 1. 强化学习算法 (RL)

强化学习算法使用图神经网络(GNN)来表示作业车间调度问题的状态，并通过深度Q网络(DQN)学习最优调度策略。

主要特点：
- 使用图结构表示任务、机器和操作之间的关系
- 采用注意力机制增强模型表达能力
- 通过经验回放和目标网络提高训练稳定性
- 支持在线学习和适应性调整

### 2. 遗传算法 (GA)

遗传算法通过模拟自然选择和遗传过程来优化调度方案。

主要特点：
- 使用基于优先级的编码方式表示调度方案
- 实现了交叉、变异和选择等遗传操作
- 采用精英保留策略保持优秀个体
- 支持多目标优化，平衡完工时间和工具更换次数

### 3. 鱼鹰优化算法 (NOOA)

鱼鹰优化算法是一种受鱼鹰捕食行为启发的元启发式算法，通过模拟鱼鹰在水下和空中的捕食策略来搜索最优解。

主要特点：
- 分为两个阶段：水下捕食阶段(探索)和空中捕食阶段(开发)
- 自适应调整搜索策略，平衡全局探索和局部开发
- 考虑机器槽位限制和轮询处理方式
- 支持多目标优化，平衡完工时间和工具更换次数

## 环境模型

项目中的作业车间调度问题具有以下特点：

- 每个任务由多个工序组成，每个工序有特定的类型和处理时间
- 机器数量有限，每台机器有最大槽位限制(默认为7个槽位)
- 不同工序类型需要不同的工具，工具更换需要额外时间
- 目标是最小化完工时间和工具更换次数

环境模型实现在`envs.py`中的`JobShopEnv`类，提供了状态表示、动作执行和奖励计算等功能。

## 算法比较与测试结果

项目提供了全面的算法比较功能，可以在相同数据集上评估不同算法的性能。比较指标包括：

- 完工时间(makespan)
- 工具更换次数
- 计算时间
- 收敛速度

测试结果显示：
- 强化学习算法在复杂场景下表现出较好的适应性和学习能力
- 遗传算法在中等规模问题上能快速找到较好的解
- 鱼鹰优化算法在平衡多目标优化方面表现出色

详细的测试结果可以在`benchmark_results`目录中查看。

## 可视化

项目提供了多种可视化工具，帮助分析和比较算法性能：

- **甘特图**: 直观展示任务调度和机器利用情况
- **收敛曲线**: 展示算法优化过程中目标函数的变化
- **帕累托前沿**: 展示多目标优化的权衡关系

可视化功能主要通过`gantt_chart_utils.py`和各算法类中的绘图方法实现。

## 使用方法

### 环境要求

- Python 3.6+
- PyTorch 1.7+
- NumPy
- Matplotlib
- 其他依赖库(详见代码)

### 运行示例

1. **训练强化学习模型**:
   ```bash
   python main.py --mode train --data_dir datasets --num_machines 3 --episodes 20
   ```

2. **测试遗传算法**:
   ```bash
   python main.py --mode test --algorithm GA --dataset datasets/10j_965m_075.txt --num_machines 3
   ```

3. **测试鱼鹰优化算法**:
   ```bash
   python main.py --mode test --algorithm NOOA --dataset datasets/10j_965m_075.txt --num_machines 3
   ```

4. **算法比较**:
   ```bash
   python main.py --mode compare --algorithms RL,GA,NOOA --dataset datasets/10j_965m_075.txt --num_machines 3
   ```

## 项目结构

- `compare/`: 主要代码目录
  - `main.py`: 主程序入口
  - `envs.py`: 作业车间调度环境实现
  - `config.py`: 配置参数
  - `GA.py`: 遗传算法实现
  - `NOOA.py`: 鱼鹰优化算法实现
  - `GNN_DQN_model.py`: 图神经网络和DQN模型实现
  - `gantt_chart_utils.py`: 甘特图生成工具
  - `utils.py`: 工具函数
  - `datasets/`: 测试数据集
  - `models/`: 预训练模型

- `benchmark_results/`: 算法比较结果
- `visualization/`: 可视化工具

## 参考文献

1. 鱼鹰优化算法 (Osprey Optimization Algorithm)
2. 图神经网络在组合优化中的应用
3. 遗传算法解决作业车间调度问题的研究

## 贡献者

- Petrichor

## 许可证

